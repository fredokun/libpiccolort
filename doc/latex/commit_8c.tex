\hypertarget{commit_8c}{\section{src/commit.c File Reference}
\label{commit_8c}\index{src/commit.\-c@{src/commit.\-c}}
}
{\ttfamily \#include $<$commit.\-h$>$}\\*
{\ttfamily \#include $<$tools.\-h$>$}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{commit_8c_a440042f75772a837767cd32a2c768783}{L\-O\-C\-K\-\_\-\-C\-L\-O\-C\-K}(commit)~\hyperlink{sync_8c_ad533486752c5f9d3dd499a06288f31ab}{P\-I\-C\-C\-\_\-acquire}(commit-\/$>$thread-\/$>$clock-\/$>$val-\/$>$lock);
\item 
\#define \hyperlink{commit_8c_a379e51ba881ea97356cdaf8f8d77d2eb}{R\-E\-L\-E\-A\-S\-E\-\_\-\-C\-L\-O\-C\-K}(commit)~\hyperlink{sync_8c_a0a6cdd715fc6aba7327880215401fa71}{P\-I\-C\-C\-\_\-release}(commit-\/$>$thread-\/$>$clock-\/$>$val-\/$>$lock, N\-U\-L\-L);
\item 
\#define \hyperlink{commit_8c_a68f62907214bde471b234723151fed37}{I\-N\-I\-T\-\_\-\-C\-O\-M\-M\-I\-T}(commit, pt, ch, pc)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{commit_8h_a655097bbaf0e81713b6d9336948c211c}{P\-I\-C\-C\-\_\-\-Commit} $\ast$ \hyperlink{commit_8c_adab666e9d693a5f655c1f137a610ef64}{P\-I\-C\-C\-\_\-create\-\_\-commitment} (\hyperlink{error_8h_af89348b58191950b36702ace17a79c0b}{P\-I\-C\-C\-\_\-\-Error} $\ast$error)
\item 
\hyperlink{commit_8h_a37cd2f3bb38335c72e326d9ed4869c4f}{P\-I\-C\-C\-\_\-\-Commit\-List} $\ast$ \hyperlink{commit_8c_a3332c9bf70cd5b9122377c29227b4f50}{P\-I\-C\-C\-\_\-create\-\_\-commit\-\_\-list} (\hyperlink{error_8h_af89348b58191950b36702ace17a79c0b}{P\-I\-C\-C\-\_\-\-Error} $\ast$error)
\item 
\hyperlink{commit_8h_ab8090c3a82dc75b4dea9bb9015a95f71}{P\-I\-C\-C\-\_\-\-Commit\-List\-Element} $\ast$ \hyperlink{commit_8c_a1da34879d65783717f4d61fcb05c035d}{P\-I\-C\-C\-\_\-create\-\_\-commit\-\_\-list\-\_\-element} (\hyperlink{commit_8h_a655097bbaf0e81713b6d9336948c211c}{P\-I\-C\-C\-\_\-\-Commit} $\ast$commit, \hyperlink{error_8h_af89348b58191950b36702ace17a79c0b}{P\-I\-C\-C\-\_\-\-Error} $\ast$error)
\item 
void \hyperlink{commit_8c_ab30742bdca33fc4e922139053217e0b3}{P\-I\-C\-C\-\_\-register\-\_\-output\-\_\-commitment} (\hyperlink{pi__thread_8h_a27cd326b4bfd4bb50a635ff321faafc8}{P\-I\-C\-C\-\_\-\-Pi\-Thread} $\ast$pt, \hyperlink{channel_8h_a0a70def8883f1abb8e7246b3a4c9dffb}{P\-I\-C\-C\-\_\-\-Channel} $\ast$ch, \hyperlink{commit_8h_ad2bb1ba499a64c4eb87962523a3957ab}{P\-I\-C\-C\-\_\-\-Eval\-Function} $\ast$eval, \hyperlink{pi__thread_8h_ae23ad6ae115253385182f5a898d32c1e}{P\-I\-C\-C\-\_\-\-Label} cont\-\_\-pc, \hyperlink{error_8h_af89348b58191950b36702ace17a79c0b}{P\-I\-C\-C\-\_\-\-Error} $\ast$error)
\item 
void \hyperlink{commit_8c_add200b325165a7a13457fca8c963297b}{P\-I\-C\-C\-\_\-register\-\_\-input\-\_\-commitment} (\hyperlink{pi__thread_8h_a27cd326b4bfd4bb50a635ff321faafc8}{P\-I\-C\-C\-\_\-\-Pi\-Thread} $\ast$pt, \hyperlink{channel_8h_a0a70def8883f1abb8e7246b3a4c9dffb}{P\-I\-C\-C\-\_\-\-Channel} $\ast$ch, int refvar, int cont\-\_\-pc, \hyperlink{error_8h_af89348b58191950b36702ace17a79c0b}{P\-I\-C\-C\-\_\-\-Error} $\ast$error)
\item 
bool \hyperlink{commit_8c_a788a62f62f706ba5515d34caff7b807f}{P\-I\-C\-C\-\_\-is\-\_\-valid\-\_\-commit} (\hyperlink{commit_8h_a655097bbaf0e81713b6d9336948c211c}{P\-I\-C\-C\-\_\-\-Commit} $\ast$commit)
\item 
void \hyperlink{commit_8c_a8c210081d1592ee22fb6537fdf3f0176}{P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-add} (\hyperlink{commit_8h_a37cd2f3bb38335c72e326d9ed4869c4f}{P\-I\-C\-C\-\_\-\-Commit\-List} $\ast$clist, \hyperlink{commit_8h_a655097bbaf0e81713b6d9336948c211c}{P\-I\-C\-C\-\_\-\-Commit} $\ast$commit, \hyperlink{error_8h_af89348b58191950b36702ace17a79c0b}{P\-I\-C\-C\-\_\-\-Error} $\ast$error)
\item 
\hyperlink{commit_8h_a655097bbaf0e81713b6d9336948c211c}{P\-I\-C\-C\-\_\-\-Commit} $\ast$ \hyperlink{commit_8c_a57ba642a1ef551b5f78a194a86b20f76}{P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-fetch} (\hyperlink{commit_8h_a37cd2f3bb38335c72e326d9ed4869c4f}{P\-I\-C\-C\-\_\-\-Commit\-List} $\ast$clist)
\item 
\hyperlink{commit_8h_a655097bbaf0e81713b6d9336948c211c}{P\-I\-C\-C\-\_\-\-Commit} $\ast$ \hyperlink{commit_8c_ad2b5766d2d6abe2e716f4dde3898d49b}{P\-I\-C\-C\-\_\-fetch\-\_\-commitment} (\hyperlink{channel_8h_a0a70def8883f1abb8e7246b3a4c9dffb}{P\-I\-C\-C\-\_\-\-Channel} $\ast$ch, \hyperlink{error_8h_af89348b58191950b36702ace17a79c0b}{P\-I\-C\-C\-\_\-\-Error} $\ast$error)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Commits.

This project is released under M\-I\-T License.

\begin{DoxyAuthor}{Author}
MickaÃ«l M\-E\-N\-U 

Maxence W\-O 
\end{DoxyAuthor}


\subsection{Macro Definition Documentation}
\hypertarget{commit_8c_a68f62907214bde471b234723151fed37}{\index{commit.\-c@{commit.\-c}!I\-N\-I\-T\-\_\-\-C\-O\-M\-M\-I\-T@{I\-N\-I\-T\-\_\-\-C\-O\-M\-M\-I\-T}}
\index{I\-N\-I\-T\-\_\-\-C\-O\-M\-M\-I\-T@{I\-N\-I\-T\-\_\-\-C\-O\-M\-M\-I\-T}!commit.c@{commit.\-c}}
\subsubsection[{I\-N\-I\-T\-\_\-\-C\-O\-M\-M\-I\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define I\-N\-I\-T\-\_\-\-C\-O\-M\-M\-I\-T(
\begin{DoxyParamCaption}
\item[{}]{commit, }
\item[{}]{pt, }
\item[{}]{ch, }
\item[{}]{pc}
\end{DoxyParamCaption}
)}}\label{commit_8c_a68f62907214bde471b234723151fed37}
{\bfseries Value\-:}
\begin{DoxyCode}
commit->thread = pt; \(\backslash\)
    commit->cont\_pc = pc; \(\backslash\)
    commit->clock = pt->clock; \(\backslash\)
    commit->clockval = pt->clock->val; \(\backslash\)
    commit->channel = ch;
\end{DoxyCode}
\hypertarget{commit_8c_a440042f75772a837767cd32a2c768783}{\index{commit.\-c@{commit.\-c}!L\-O\-C\-K\-\_\-\-C\-L\-O\-C\-K@{L\-O\-C\-K\-\_\-\-C\-L\-O\-C\-K}}
\index{L\-O\-C\-K\-\_\-\-C\-L\-O\-C\-K@{L\-O\-C\-K\-\_\-\-C\-L\-O\-C\-K}!commit.c@{commit.\-c}}
\subsubsection[{L\-O\-C\-K\-\_\-\-C\-L\-O\-C\-K}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\-O\-C\-K\-\_\-\-C\-L\-O\-C\-K(
\begin{DoxyParamCaption}
\item[{}]{commit}
\end{DoxyParamCaption}
)~{\bf P\-I\-C\-C\-\_\-acquire}(commit-\/$>$thread-\/$>$clock-\/$>$val-\/$>$lock);}}\label{commit_8c_a440042f75772a837767cd32a2c768783}
\hypertarget{commit_8c_a379e51ba881ea97356cdaf8f8d77d2eb}{\index{commit.\-c@{commit.\-c}!R\-E\-L\-E\-A\-S\-E\-\_\-\-C\-L\-O\-C\-K@{R\-E\-L\-E\-A\-S\-E\-\_\-\-C\-L\-O\-C\-K}}
\index{R\-E\-L\-E\-A\-S\-E\-\_\-\-C\-L\-O\-C\-K@{R\-E\-L\-E\-A\-S\-E\-\_\-\-C\-L\-O\-C\-K}!commit.c@{commit.\-c}}
\subsubsection[{R\-E\-L\-E\-A\-S\-E\-\_\-\-C\-L\-O\-C\-K}]{\setlength{\rightskip}{0pt plus 5cm}\#define R\-E\-L\-E\-A\-S\-E\-\_\-\-C\-L\-O\-C\-K(
\begin{DoxyParamCaption}
\item[{}]{commit}
\end{DoxyParamCaption}
)~{\bf P\-I\-C\-C\-\_\-release}(commit-\/$>$thread-\/$>$clock-\/$>$val-\/$>$lock, N\-U\-L\-L);}}\label{commit_8c_a379e51ba881ea97356cdaf8f8d77d2eb}


\subsection{Function Documentation}
\hypertarget{commit_8c_a8c210081d1592ee22fb6537fdf3f0176}{\index{commit.\-c@{commit.\-c}!P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-add@{P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-add}}
\index{P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-add@{P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-add}!commit.c@{commit.\-c}}
\subsubsection[{P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-add}]{\setlength{\rightskip}{0pt plus 5cm}void P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-add (
\begin{DoxyParamCaption}
\item[{{\bf P\-I\-C\-C\-\_\-\-Commit\-List} $\ast$}]{clist, }
\item[{{\bf P\-I\-C\-C\-\_\-\-Commit} $\ast$}]{commit, }
\item[{{\bf P\-I\-C\-C\-\_\-\-Error} $\ast$}]{error}
\end{DoxyParamCaption}
)}}\label{commit_8c_a8c210081d1592ee22fb6537fdf3f0176}
Adds the given element at the end of the commit list.


\begin{DoxyParams}{Parameters}
{\em clist} & Commit list \\
\hline
{\em commit} & Commit to add \\
\hline
{\em error} & Error stack \\
\hline
\end{DoxyParams}
\hypertarget{commit_8c_a57ba642a1ef551b5f78a194a86b20f76}{\index{commit.\-c@{commit.\-c}!P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-fetch@{P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-fetch}}
\index{P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-fetch@{P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-fetch}!commit.c@{commit.\-c}}
\subsubsection[{P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-fetch}]{\setlength{\rightskip}{0pt plus 5cm}{\bf P\-I\-C\-C\-\_\-\-Commit}$\ast$ P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-fetch (
\begin{DoxyParamCaption}
\item[{{\bf P\-I\-C\-C\-\_\-\-Commit\-List} $\ast$}]{clist}
\end{DoxyParamCaption}
)}}\label{commit_8c_a57ba642a1ef551b5f78a194a86b20f76}
????????????????????


\begin{DoxyParams}{Parameters}
{\em clist} & ??????? \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
???????????? 
\end{DoxyReturn}
\hypertarget{commit_8c_a3332c9bf70cd5b9122377c29227b4f50}{\index{commit.\-c@{commit.\-c}!P\-I\-C\-C\-\_\-create\-\_\-commit\-\_\-list@{P\-I\-C\-C\-\_\-create\-\_\-commit\-\_\-list}}
\index{P\-I\-C\-C\-\_\-create\-\_\-commit\-\_\-list@{P\-I\-C\-C\-\_\-create\-\_\-commit\-\_\-list}!commit.c@{commit.\-c}}
\subsubsection[{P\-I\-C\-C\-\_\-create\-\_\-commit\-\_\-list}]{\setlength{\rightskip}{0pt plus 5cm}{\bf P\-I\-C\-C\-\_\-\-Commit\-List}$\ast$ P\-I\-C\-C\-\_\-create\-\_\-commit\-\_\-list (
\begin{DoxyParamCaption}
\item[{{\bf P\-I\-C\-C\-\_\-\-Error} $\ast$}]{error}
\end{DoxyParamCaption}
)}}\label{commit_8c_a3332c9bf70cd5b9122377c29227b4f50}
Creates a new commit list.


\begin{DoxyParams}{Parameters}
{\em error} & Error stack \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Created commit list 
\end{DoxyReturn}
\hypertarget{commit_8c_a1da34879d65783717f4d61fcb05c035d}{\index{commit.\-c@{commit.\-c}!P\-I\-C\-C\-\_\-create\-\_\-commit\-\_\-list\-\_\-element@{P\-I\-C\-C\-\_\-create\-\_\-commit\-\_\-list\-\_\-element}}
\index{P\-I\-C\-C\-\_\-create\-\_\-commit\-\_\-list\-\_\-element@{P\-I\-C\-C\-\_\-create\-\_\-commit\-\_\-list\-\_\-element}!commit.c@{commit.\-c}}
\subsubsection[{P\-I\-C\-C\-\_\-create\-\_\-commit\-\_\-list\-\_\-element}]{\setlength{\rightskip}{0pt plus 5cm}{\bf P\-I\-C\-C\-\_\-\-Commit\-List\-Element}$\ast$ P\-I\-C\-C\-\_\-create\-\_\-commit\-\_\-list\-\_\-element (
\begin{DoxyParamCaption}
\item[{{\bf P\-I\-C\-C\-\_\-\-Commit} $\ast$}]{commit, }
\item[{{\bf P\-I\-C\-C\-\_\-\-Error} $\ast$}]{error}
\end{DoxyParamCaption}
)}}\label{commit_8c_a1da34879d65783717f4d61fcb05c035d}
Creates a new element of commit list.


\begin{DoxyParams}{Parameters}
{\em commit} & Commit associated \\
\hline
{\em error} & Error stack \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Created commit list element 
\end{DoxyReturn}
\hypertarget{commit_8c_adab666e9d693a5f655c1f137a610ef64}{\index{commit.\-c@{commit.\-c}!P\-I\-C\-C\-\_\-create\-\_\-commitment@{P\-I\-C\-C\-\_\-create\-\_\-commitment}}
\index{P\-I\-C\-C\-\_\-create\-\_\-commitment@{P\-I\-C\-C\-\_\-create\-\_\-commitment}!commit.c@{commit.\-c}}
\subsubsection[{P\-I\-C\-C\-\_\-create\-\_\-commitment}]{\setlength{\rightskip}{0pt plus 5cm}{\bf P\-I\-C\-C\-\_\-\-Commit}$\ast$ P\-I\-C\-C\-\_\-create\-\_\-commitment (
\begin{DoxyParamCaption}
\item[{{\bf P\-I\-C\-C\-\_\-\-Error} $\ast$}]{error}
\end{DoxyParamCaption}
)}}\label{commit_8c_adab666e9d693a5f655c1f137a610ef64}
Creates and returns a commitment.

\begin{DoxyReturn}{Returns}
Created commitment 
\end{DoxyReturn}
\hypertarget{commit_8c_ad2b5766d2d6abe2e716f4dde3898d49b}{\index{commit.\-c@{commit.\-c}!P\-I\-C\-C\-\_\-fetch\-\_\-commitment@{P\-I\-C\-C\-\_\-fetch\-\_\-commitment}}
\index{P\-I\-C\-C\-\_\-fetch\-\_\-commitment@{P\-I\-C\-C\-\_\-fetch\-\_\-commitment}!commit.c@{commit.\-c}}
\subsubsection[{P\-I\-C\-C\-\_\-fetch\-\_\-commitment}]{\setlength{\rightskip}{0pt plus 5cm}{\bf P\-I\-C\-C\-\_\-\-Commit}$\ast$ P\-I\-C\-C\-\_\-fetch\-\_\-commitment (
\begin{DoxyParamCaption}
\item[{{\bf P\-I\-C\-C\-\_\-\-Channel} $\ast$}]{ch, }
\item[{{\bf P\-I\-C\-C\-\_\-\-Error} $\ast$}]{error}
\end{DoxyParamCaption}
)}}\label{commit_8c_ad2b5766d2d6abe2e716f4dde3898d49b}
Fetches a commit from a channel.


\begin{DoxyParams}{Parameters}
{\em ch} & Channel to fetch the commit from \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Fetched commit 
\end{DoxyReturn}
\hypertarget{commit_8c_a788a62f62f706ba5515d34caff7b807f}{\index{commit.\-c@{commit.\-c}!P\-I\-C\-C\-\_\-is\-\_\-valid\-\_\-commit@{P\-I\-C\-C\-\_\-is\-\_\-valid\-\_\-commit}}
\index{P\-I\-C\-C\-\_\-is\-\_\-valid\-\_\-commit@{P\-I\-C\-C\-\_\-is\-\_\-valid\-\_\-commit}!commit.c@{commit.\-c}}
\subsubsection[{P\-I\-C\-C\-\_\-is\-\_\-valid\-\_\-commit}]{\setlength{\rightskip}{0pt plus 5cm}bool P\-I\-C\-C\-\_\-is\-\_\-valid\-\_\-commit (
\begin{DoxyParamCaption}
\item[{{\bf P\-I\-C\-C\-\_\-\-Commit} $\ast$}]{commit}
\end{DoxyParamCaption}
)}}\label{commit_8c_a788a62f62f706ba5515d34caff7b807f}
Verifies if the given commit is valid.


\begin{DoxyParams}{Parameters}
{\em commit} & Commit to validate \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Whether the commit is valid 
\end{DoxyReturn}
\hypertarget{commit_8c_add200b325165a7a13457fca8c963297b}{\index{commit.\-c@{commit.\-c}!P\-I\-C\-C\-\_\-register\-\_\-input\-\_\-commitment@{P\-I\-C\-C\-\_\-register\-\_\-input\-\_\-commitment}}
\index{P\-I\-C\-C\-\_\-register\-\_\-input\-\_\-commitment@{P\-I\-C\-C\-\_\-register\-\_\-input\-\_\-commitment}!commit.c@{commit.\-c}}
\subsubsection[{P\-I\-C\-C\-\_\-register\-\_\-input\-\_\-commitment}]{\setlength{\rightskip}{0pt plus 5cm}void P\-I\-C\-C\-\_\-register\-\_\-input\-\_\-commitment (
\begin{DoxyParamCaption}
\item[{{\bf P\-I\-C\-C\-\_\-\-Pi\-Thread} $\ast$}]{pt, }
\item[{{\bf P\-I\-C\-C\-\_\-\-Channel} $\ast$}]{ch, }
\item[{int}]{refvar, }
\item[{int}]{cont\-\_\-pc, }
\item[{{\bf P\-I\-C\-C\-\_\-\-Error} $\ast$}]{error}
\end{DoxyParamCaption}
)}}\label{commit_8c_add200b325165a7a13457fca8c963297b}
Registers an input commit with given Pi\-Thread and channel.


\begin{DoxyParams}{Parameters}
{\em pt} & Pi\-Thread associated with the commit \\
\hline
{\em ch} & Channel used to create the commit \\
\hline
{\em refvar} & Index of the var used to create the input commit \\
\hline
{\em cont\-\_\-pc} & Program counter \\
\hline
{\em error} & Error stack \\
\hline
\end{DoxyParams}
\hypertarget{commit_8c_ab30742bdca33fc4e922139053217e0b3}{\index{commit.\-c@{commit.\-c}!P\-I\-C\-C\-\_\-register\-\_\-output\-\_\-commitment@{P\-I\-C\-C\-\_\-register\-\_\-output\-\_\-commitment}}
\index{P\-I\-C\-C\-\_\-register\-\_\-output\-\_\-commitment@{P\-I\-C\-C\-\_\-register\-\_\-output\-\_\-commitment}!commit.c@{commit.\-c}}
\subsubsection[{P\-I\-C\-C\-\_\-register\-\_\-output\-\_\-commitment}]{\setlength{\rightskip}{0pt plus 5cm}void P\-I\-C\-C\-\_\-register\-\_\-output\-\_\-commitment (
\begin{DoxyParamCaption}
\item[{{\bf P\-I\-C\-C\-\_\-\-Pi\-Thread} $\ast$}]{pt, }
\item[{{\bf P\-I\-C\-C\-\_\-\-Channel} $\ast$}]{ch, }
\item[{{\bf P\-I\-C\-C\-\_\-\-Eval\-Function} $\ast$}]{eval, }
\item[{{\bf P\-I\-C\-C\-\_\-\-Label}}]{cont\-\_\-pc, }
\item[{{\bf P\-I\-C\-C\-\_\-\-Error} $\ast$}]{error}
\end{DoxyParamCaption}
)}}\label{commit_8c_ab30742bdca33fc4e922139053217e0b3}
Registers an output commit with given Pi\-Thread and channel.


\begin{DoxyParams}{Parameters}
{\em pt} & Pi\-Thread associated with the commit \\
\hline
{\em ch} & Channel used to create the commit \\
\hline
{\em eval} & Evaluation function \\
\hline
{\em cont\-\_\-pc} & Programm counter \\
\hline
{\em error} & Error stack \\
\hline
\end{DoxyParams}
