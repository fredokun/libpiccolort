\hypertarget{commit_8c}{\section{src/commit.c File Reference}
\label{commit_8c}\index{src/commit.\-c@{src/commit.\-c}}
}
{\ttfamily \#include $<$commit.\-h$>$}\\*
{\ttfamily \#include $<$tools.\-h$>$}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{commit_8c_a440042f75772a837767cd32a2c768783}{L\-O\-C\-K\-\_\-\-C\-L\-O\-C\-K}(commit)~\hyperlink{sync_8c_aa27397e8ad870b7b7ae763a71009be13}{P\-I\-C\-C\-\_\-acquire}(\&(commit-\/$>$thread-\/$>$clock-\/$>$val-\/$>$lock));
\item 
\#define \hyperlink{commit_8c_a379e51ba881ea97356cdaf8f8d77d2eb}{R\-E\-L\-E\-A\-S\-E\-\_\-\-C\-L\-O\-C\-K}(commit)~\hyperlink{sync_8c_ad5a8707a554e73b819db9986b371aca0}{P\-I\-C\-C\-\_\-release}(\&(commit-\/$>$thread-\/$>$clock-\/$>$val-\/$>$lock));
\item 
\#define \hyperlink{commit_8c_a68f62907214bde471b234723151fed37}{I\-N\-I\-T\-\_\-\-C\-O\-M\-M\-I\-T}(commit, pt, ch, pc)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{commit_8h_a655097bbaf0e81713b6d9336948c211c}{P\-I\-C\-C\-\_\-\-Commit} $\ast$ \hyperlink{commit_8c_adab666e9d693a5f655c1f137a610ef64}{P\-I\-C\-C\-\_\-create\-\_\-commitment} (\hyperlink{error_8h_af89348b58191950b36702ace17a79c0b}{P\-I\-C\-C\-\_\-\-Error} $\ast$error)
\item 
\hyperlink{commit_8h_a37cd2f3bb38335c72e326d9ed4869c4f}{P\-I\-C\-C\-\_\-\-Commit\-List} $\ast$ \hyperlink{commit_8c_a3332c9bf70cd5b9122377c29227b4f50}{P\-I\-C\-C\-\_\-create\-\_\-commit\-\_\-list} (\hyperlink{error_8h_af89348b58191950b36702ace17a79c0b}{P\-I\-C\-C\-\_\-\-Error} $\ast$error)
\item 
\hyperlink{commit_8h_ab8090c3a82dc75b4dea9bb9015a95f71}{P\-I\-C\-C\-\_\-\-Commit\-List\-Element} $\ast$ \hyperlink{commit_8c_a1da34879d65783717f4d61fcb05c035d}{P\-I\-C\-C\-\_\-create\-\_\-commit\-\_\-list\-\_\-element} (\hyperlink{commit_8h_a655097bbaf0e81713b6d9336948c211c}{P\-I\-C\-C\-\_\-\-Commit} $\ast$commit, \hyperlink{error_8h_af89348b58191950b36702ace17a79c0b}{P\-I\-C\-C\-\_\-\-Error} $\ast$error)
\item 
void \hyperlink{commit_8c_a147d57b52b5ac5ec52f1488a4df5684c}{P\-I\-C\-C\-\_\-register\-\_\-output\-\_\-commitment} (\hyperlink{pi__thread_8h_a27cd326b4bfd4bb50a635ff321faafc8}{P\-I\-C\-C\-\_\-\-Pi\-Thread} $\ast$pt, \hyperlink{channel_8h_a0a70def8883f1abb8e7246b3a4c9dffb}{P\-I\-C\-C\-\_\-\-Channel} $\ast$ch, \hyperlink{commit_8h_ad2bb1ba499a64c4eb87962523a3957ab}{P\-I\-C\-C\-\_\-\-Eval\-Function} $\ast$eval, \hyperlink{symbols_8h_ae23ad6ae115253385182f5a898d32c1e}{P\-I\-C\-C\-\_\-\-Label} cont\-\_\-pc)
\item 
void \hyperlink{commit_8c_a2a8118d48f638115c8bde91c5c2e3570}{P\-I\-C\-C\-\_\-register\-\_\-input\-\_\-commitment} (\hyperlink{pi__thread_8h_a27cd326b4bfd4bb50a635ff321faafc8}{P\-I\-C\-C\-\_\-\-Pi\-Thread} $\ast$pt, \hyperlink{channel_8h_a0a70def8883f1abb8e7246b3a4c9dffb}{P\-I\-C\-C\-\_\-\-Channel} $\ast$ch, int refvar, \hyperlink{symbols_8h_ae23ad6ae115253385182f5a898d32c1e}{P\-I\-C\-C\-\_\-\-Label} cont\-\_\-pc)
\item 
bool \hyperlink{commit_8c_a788a62f62f706ba5515d34caff7b807f}{P\-I\-C\-C\-\_\-is\-\_\-valid\-\_\-commit} (\hyperlink{commit_8h_a655097bbaf0e81713b6d9336948c211c}{P\-I\-C\-C\-\_\-\-Commit} $\ast$commit)
\item 
void \hyperlink{commit_8c_a8c210081d1592ee22fb6537fdf3f0176}{P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-add} (\hyperlink{commit_8h_a37cd2f3bb38335c72e326d9ed4869c4f}{P\-I\-C\-C\-\_\-\-Commit\-List} $\ast$clist, \hyperlink{commit_8h_a655097bbaf0e81713b6d9336948c211c}{P\-I\-C\-C\-\_\-\-Commit} $\ast$commit, \hyperlink{error_8h_af89348b58191950b36702ace17a79c0b}{P\-I\-C\-C\-\_\-\-Error} $\ast$error)
\item 
bool \hyperlink{commit_8c_a2b9d94fd601547d2b324f40554b9ff55}{P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-is\-\_\-empty} (\hyperlink{commit_8h_a37cd2f3bb38335c72e326d9ed4869c4f}{P\-I\-C\-C\-\_\-\-Commit\-List} $\ast$clist)
\item 
\hyperlink{commit_8h_a655097bbaf0e81713b6d9336948c211c}{P\-I\-C\-C\-\_\-\-Commit} $\ast$ \hyperlink{commit_8c_a57ba642a1ef551b5f78a194a86b20f76}{P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-fetch} (\hyperlink{commit_8h_a37cd2f3bb38335c72e326d9ed4869c4f}{P\-I\-C\-C\-\_\-\-Commit\-List} $\ast$clist)
\item 
\hyperlink{commit_8h_a655097bbaf0e81713b6d9336948c211c}{P\-I\-C\-C\-\_\-\-Commit} $\ast$ \hyperlink{commit_8c_ad7d0cd39eb2ec4c78c661243d75f49d8}{P\-I\-C\-C\-\_\-fetch\-\_\-input\-\_\-commitment} (\hyperlink{channel_8h_a0a70def8883f1abb8e7246b3a4c9dffb}{P\-I\-C\-C\-\_\-\-Channel} $\ast$ch)
\item 
\hyperlink{commit_8h_a655097bbaf0e81713b6d9336948c211c}{P\-I\-C\-C\-\_\-\-Commit} $\ast$ \hyperlink{commit_8c_ad837ebf71eacb624b85970117e4543b2}{P\-I\-C\-C\-\_\-fetch\-\_\-output\-\_\-commitment} (\hyperlink{channel_8h_a0a70def8883f1abb8e7246b3a4c9dffb}{P\-I\-C\-C\-\_\-\-Channel} $\ast$ch)
\item 
void \hyperlink{commit_8c_aefddfc7b660e9930c8d11913fdf28fd7}{P\-I\-C\-C\-\_\-\-Commit\-\_\-inv} (\hyperlink{commit_8h_a655097bbaf0e81713b6d9336948c211c}{P\-I\-C\-C\-\_\-\-Commit} $\ast$commit)
\begin{DoxyCompactList}\small\item\em Checks commit invariant. \end{DoxyCompactList}\item 
void \hyperlink{commit_8c_a72baafd7e48e7673f581f742833c6020}{P\-I\-C\-C\-\_\-\-Commit\-List\-Element\-\_\-inv} (\hyperlink{commit_8h_ab8090c3a82dc75b4dea9bb9015a95f71}{P\-I\-C\-C\-\_\-\-Commit\-List\-Element} $\ast$elem)
\item 
void \hyperlink{commit_8c_a036254baa30fbef3ff6cf9e55d89ab19}{P\-I\-C\-C\-\_\-\-Commit\-List\-\_\-inv} (\hyperlink{commit_8h_a37cd2f3bb38335c72e326d9ed4869c4f}{P\-I\-C\-C\-\_\-\-Commit\-List} $\ast$list)
\item 
void \hyperlink{commit_8c_a63eba6658845c2a9d2706783f43f957d}{P\-I\-C\-C\-\_\-\-Refvar\-\_\-inv} (int refvar)
\item 
void \hyperlink{commit_8c_a671243300bc0b6ff1225f2476f9830ff}{P\-I\-C\-C\-\_\-\-Eval\-Function\-\_\-inv} (\hyperlink{commit_8h_ad2bb1ba499a64c4eb87962523a3957ab}{P\-I\-C\-C\-\_\-\-Eval\-Function} eval)
\item 
void \hyperlink{commit_8c_a14735735dfbeef854b502cf6c34e601b}{P\-I\-C\-C\-\_\-\-Label\-\_\-inv} (\hyperlink{symbols_8h_ae23ad6ae115253385182f5a898d32c1e}{P\-I\-C\-C\-\_\-\-Label} cont\-\_\-pc)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Commits.

This project is released under M\-I\-T License.

\begin{DoxyAuthor}{Author}
MickaÃ«l M\-E\-N\-U 

Maxence W\-O 

Joel H\-I\-N\-G 
\end{DoxyAuthor}


\subsection{Macro Definition Documentation}
\hypertarget{commit_8c_a68f62907214bde471b234723151fed37}{\index{commit.\-c@{commit.\-c}!I\-N\-I\-T\-\_\-\-C\-O\-M\-M\-I\-T@{I\-N\-I\-T\-\_\-\-C\-O\-M\-M\-I\-T}}
\index{I\-N\-I\-T\-\_\-\-C\-O\-M\-M\-I\-T@{I\-N\-I\-T\-\_\-\-C\-O\-M\-M\-I\-T}!commit.c@{commit.\-c}}
\subsubsection[{I\-N\-I\-T\-\_\-\-C\-O\-M\-M\-I\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define I\-N\-I\-T\-\_\-\-C\-O\-M\-M\-I\-T(
\begin{DoxyParamCaption}
\item[{}]{commit, }
\item[{}]{pt, }
\item[{}]{ch, }
\item[{}]{pc}
\end{DoxyParamCaption}
)}}\label{commit_8c_a68f62907214bde471b234723151fed37}
{\bfseries Value\-:}
\begin{DoxyCode}
commit->thread = pt; \(\backslash\)
    commit->cont\_pc = pc; \(\backslash\)
    commit->clock = pt->clock; \(\backslash\)
    commit->clockval = pt->clock->val; \(\backslash\)
    commit->channel = ch;
\end{DoxyCode}
\hypertarget{commit_8c_a440042f75772a837767cd32a2c768783}{\index{commit.\-c@{commit.\-c}!L\-O\-C\-K\-\_\-\-C\-L\-O\-C\-K@{L\-O\-C\-K\-\_\-\-C\-L\-O\-C\-K}}
\index{L\-O\-C\-K\-\_\-\-C\-L\-O\-C\-K@{L\-O\-C\-K\-\_\-\-C\-L\-O\-C\-K}!commit.c@{commit.\-c}}
\subsubsection[{L\-O\-C\-K\-\_\-\-C\-L\-O\-C\-K}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\-O\-C\-K\-\_\-\-C\-L\-O\-C\-K(
\begin{DoxyParamCaption}
\item[{}]{commit}
\end{DoxyParamCaption}
)~{\bf P\-I\-C\-C\-\_\-acquire}(\&(commit-\/$>$thread-\/$>$clock-\/$>$val-\/$>$lock));}}\label{commit_8c_a440042f75772a837767cd32a2c768783}
\hypertarget{commit_8c_a379e51ba881ea97356cdaf8f8d77d2eb}{\index{commit.\-c@{commit.\-c}!R\-E\-L\-E\-A\-S\-E\-\_\-\-C\-L\-O\-C\-K@{R\-E\-L\-E\-A\-S\-E\-\_\-\-C\-L\-O\-C\-K}}
\index{R\-E\-L\-E\-A\-S\-E\-\_\-\-C\-L\-O\-C\-K@{R\-E\-L\-E\-A\-S\-E\-\_\-\-C\-L\-O\-C\-K}!commit.c@{commit.\-c}}
\subsubsection[{R\-E\-L\-E\-A\-S\-E\-\_\-\-C\-L\-O\-C\-K}]{\setlength{\rightskip}{0pt plus 5cm}\#define R\-E\-L\-E\-A\-S\-E\-\_\-\-C\-L\-O\-C\-K(
\begin{DoxyParamCaption}
\item[{}]{commit}
\end{DoxyParamCaption}
)~{\bf P\-I\-C\-C\-\_\-release}(\&(commit-\/$>$thread-\/$>$clock-\/$>$val-\/$>$lock));}}\label{commit_8c_a379e51ba881ea97356cdaf8f8d77d2eb}


\subsection{Function Documentation}
\hypertarget{commit_8c_aefddfc7b660e9930c8d11913fdf28fd7}{\index{commit.\-c@{commit.\-c}!P\-I\-C\-C\-\_\-\-Commit\-\_\-inv@{P\-I\-C\-C\-\_\-\-Commit\-\_\-inv}}
\index{P\-I\-C\-C\-\_\-\-Commit\-\_\-inv@{P\-I\-C\-C\-\_\-\-Commit\-\_\-inv}!commit.c@{commit.\-c}}
\subsubsection[{P\-I\-C\-C\-\_\-\-Commit\-\_\-inv}]{\setlength{\rightskip}{0pt plus 5cm}void P\-I\-C\-C\-\_\-\-Commit\-\_\-inv (
\begin{DoxyParamCaption}
\item[{{\bf P\-I\-C\-C\-\_\-\-Commit} $\ast$}]{commit}
\end{DoxyParamCaption}
)}}\label{commit_8c_aefddfc7b660e9930c8d11913fdf28fd7}


Checks commit invariant. 

\begin{DoxyParagraph}{Invariant\-:}
thread != null \&\& clock != null \&\& clockval != null \&\& channel != null \&\& content != null 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Invariant\-:}
cont\-\_\-pc $>$ 0 
\end{DoxyParagraph}
\hypertarget{commit_8c_a8c210081d1592ee22fb6537fdf3f0176}{\index{commit.\-c@{commit.\-c}!P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-add@{P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-add}}
\index{P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-add@{P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-add}!commit.c@{commit.\-c}}
\subsubsection[{P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-add}]{\setlength{\rightskip}{0pt plus 5cm}void P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-add (
\begin{DoxyParamCaption}
\item[{{\bf P\-I\-C\-C\-\_\-\-Commit\-List} $\ast$}]{clist, }
\item[{{\bf P\-I\-C\-C\-\_\-\-Commit} $\ast$}]{commit, }
\item[{{\bf P\-I\-C\-C\-\_\-\-Error} $\ast$}]{error}
\end{DoxyParamCaption}
)}}\label{commit_8c_a8c210081d1592ee22fb6537fdf3f0176}
Adds the given element at the end of the commit list.

\begin{DoxyParagraph}{Precondition\-:}
clist != N\-U\-L\-L 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Precondition\-:}
commit != N\-U\-L\-L
\end{DoxyParagraph}
\begin{DoxyParagraph}{Postcondition\-:}
clist-\/$>$size = clist\-\_\-at\-\_\-pre-\/$>$size + 1 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Postcondition\-:}
clist-\/$>$tail-\/$>$commit = commit 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Postcondition\-:}
clist-\/$>$tail-\/$>$next = N\-U\-L\-L
\end{DoxyParagraph}

\begin{DoxyParams}{Parameters}
{\em clist} & Commit list \\
\hline
{\em commit} & Commit to add \\
\hline
{\em error} & Error stack \\
\hline
\end{DoxyParams}
\hypertarget{commit_8c_a57ba642a1ef551b5f78a194a86b20f76}{\index{commit.\-c@{commit.\-c}!P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-fetch@{P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-fetch}}
\index{P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-fetch@{P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-fetch}!commit.c@{commit.\-c}}
\subsubsection[{P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-fetch}]{\setlength{\rightskip}{0pt plus 5cm}{\bf P\-I\-C\-C\-\_\-\-Commit}$\ast$ P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-fetch (
\begin{DoxyParamCaption}
\item[{{\bf P\-I\-C\-C\-\_\-\-Commit\-List} $\ast$}]{clist}
\end{DoxyParamCaption}
)}}\label{commit_8c_a57ba642a1ef551b5f78a194a86b20f76}
Fetch the first element of the commit list.

\begin{DoxyParagraph}{Precondition\-:}
clist != N\-U\-L\-L 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Precondition\-:}
clist-\/$>$size $>$ 0
\end{DoxyParagraph}
\begin{DoxyParagraph}{Postcondition\-:}
fetched = clist\-\_\-at\-\_\-pre-\/$>$head-\/$>$commit 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Postcondition\-:}
clist-\/$>$size = clist\-\_\-at\-\_\-pre-\/$>$size -\/ 1 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Postcondition\-:}
clist-\/$>$head = clist\-\_\-at\-\_\-pre-\/$>$head-\/$>$next
\end{DoxyParagraph}

\begin{DoxyParams}{Parameters}
{\em clist} & Commit list \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
first element of the commit list 
\end{DoxyReturn}
\hypertarget{commit_8c_a2b9d94fd601547d2b324f40554b9ff55}{\index{commit.\-c@{commit.\-c}!P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-is\-\_\-empty@{P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-is\-\_\-empty}}
\index{P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-is\-\_\-empty@{P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-is\-\_\-empty}!commit.c@{commit.\-c}}
\subsubsection[{P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-is\-\_\-empty}]{\setlength{\rightskip}{0pt plus 5cm}bool P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-is\-\_\-empty (
\begin{DoxyParamCaption}
\item[{{\bf P\-I\-C\-C\-\_\-\-Commit\-List} $\ast$}]{clist}
\end{DoxyParamCaption}
)}}\label{commit_8c_a2b9d94fd601547d2b324f40554b9ff55}
Returns whether a commit list is empty.

\begin{DoxyParagraph}{Precondition\-:}
clist != N\-U\-L\-L
\end{DoxyParagraph}
\begin{DoxyParagraph}{Postcondition\-:}
if clist-\/$>$size = 0 , res = true else res = false
\end{DoxyParagraph}

\begin{DoxyParams}{Parameters}
{\em clist} & Commit list to check \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Whether the commit list is empty. 
\end{DoxyReturn}
\hypertarget{commit_8c_a036254baa30fbef3ff6cf9e55d89ab19}{\index{commit.\-c@{commit.\-c}!P\-I\-C\-C\-\_\-\-Commit\-List\-\_\-inv@{P\-I\-C\-C\-\_\-\-Commit\-List\-\_\-inv}}
\index{P\-I\-C\-C\-\_\-\-Commit\-List\-\_\-inv@{P\-I\-C\-C\-\_\-\-Commit\-List\-\_\-inv}!commit.c@{commit.\-c}}
\subsubsection[{P\-I\-C\-C\-\_\-\-Commit\-List\-\_\-inv}]{\setlength{\rightskip}{0pt plus 5cm}void P\-I\-C\-C\-\_\-\-Commit\-List\-\_\-inv (
\begin{DoxyParamCaption}
\item[{{\bf P\-I\-C\-C\-\_\-\-Commit\-List} $\ast$}]{list}
\end{DoxyParamCaption}
)}}\label{commit_8c_a036254baa30fbef3ff6cf9e55d89ab19}
Checks commit list invariant.

\begin{DoxyParagraph}{Invariant\-:}
if list-\/$>$size = 0, list-\/$>$head = N\-U\-L\-L \&\& list-\/$>$tail = N\-U\-L\-L 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Invariant\-:}
if list-\/$>$size = 1, list-\/$>$head = list-\/$>$tail 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Invariant\-:}
if list-\/$>$size $>$ 1, list-\/$>$head != list-\/$>$tail 
\end{DoxyParagraph}
\hypertarget{commit_8c_a72baafd7e48e7673f581f742833c6020}{\index{commit.\-c@{commit.\-c}!P\-I\-C\-C\-\_\-\-Commit\-List\-Element\-\_\-inv@{P\-I\-C\-C\-\_\-\-Commit\-List\-Element\-\_\-inv}}
\index{P\-I\-C\-C\-\_\-\-Commit\-List\-Element\-\_\-inv@{P\-I\-C\-C\-\_\-\-Commit\-List\-Element\-\_\-inv}!commit.c@{commit.\-c}}
\subsubsection[{P\-I\-C\-C\-\_\-\-Commit\-List\-Element\-\_\-inv}]{\setlength{\rightskip}{0pt plus 5cm}void P\-I\-C\-C\-\_\-\-Commit\-List\-Element\-\_\-inv (
\begin{DoxyParamCaption}
\item[{{\bf P\-I\-C\-C\-\_\-\-Commit\-List\-Element} $\ast$}]{elem}
\end{DoxyParamCaption}
)}}\label{commit_8c_a72baafd7e48e7673f581f742833c6020}
Checks commit list element invariant.

\begin{DoxyParagraph}{Invariant\-:}
elem-\/$>$commit != N\-U\-L\-L 
\end{DoxyParagraph}
\hypertarget{commit_8c_a3332c9bf70cd5b9122377c29227b4f50}{\index{commit.\-c@{commit.\-c}!P\-I\-C\-C\-\_\-create\-\_\-commit\-\_\-list@{P\-I\-C\-C\-\_\-create\-\_\-commit\-\_\-list}}
\index{P\-I\-C\-C\-\_\-create\-\_\-commit\-\_\-list@{P\-I\-C\-C\-\_\-create\-\_\-commit\-\_\-list}!commit.c@{commit.\-c}}
\subsubsection[{P\-I\-C\-C\-\_\-create\-\_\-commit\-\_\-list}]{\setlength{\rightskip}{0pt plus 5cm}{\bf P\-I\-C\-C\-\_\-\-Commit\-List}$\ast$ P\-I\-C\-C\-\_\-create\-\_\-commit\-\_\-list (
\begin{DoxyParamCaption}
\item[{{\bf P\-I\-C\-C\-\_\-\-Error} $\ast$}]{error}
\end{DoxyParamCaption}
)}}\label{commit_8c_a3332c9bf70cd5b9122377c29227b4f50}
Creates a new commit list.

\begin{DoxyParagraph}{Postcondition\-:}
clist != N\-U\-L\-L 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Postcondition\-:}
clist-\/$>$head = N\-U\-L\-L 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Postcondition\-:}
clist-\/$>$tail = N\-U\-L\-L 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Postcondition\-:}
clist-\/$>$size = 0
\end{DoxyParagraph}

\begin{DoxyParams}{Parameters}
{\em error} & Error stack \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Created commit list 
\end{DoxyReturn}
\hypertarget{commit_8c_a1da34879d65783717f4d61fcb05c035d}{\index{commit.\-c@{commit.\-c}!P\-I\-C\-C\-\_\-create\-\_\-commit\-\_\-list\-\_\-element@{P\-I\-C\-C\-\_\-create\-\_\-commit\-\_\-list\-\_\-element}}
\index{P\-I\-C\-C\-\_\-create\-\_\-commit\-\_\-list\-\_\-element@{P\-I\-C\-C\-\_\-create\-\_\-commit\-\_\-list\-\_\-element}!commit.c@{commit.\-c}}
\subsubsection[{P\-I\-C\-C\-\_\-create\-\_\-commit\-\_\-list\-\_\-element}]{\setlength{\rightskip}{0pt plus 5cm}{\bf P\-I\-C\-C\-\_\-\-Commit\-List\-Element}$\ast$ P\-I\-C\-C\-\_\-create\-\_\-commit\-\_\-list\-\_\-element (
\begin{DoxyParamCaption}
\item[{{\bf P\-I\-C\-C\-\_\-\-Commit} $\ast$}]{commit, }
\item[{{\bf P\-I\-C\-C\-\_\-\-Error} $\ast$}]{error}
\end{DoxyParamCaption}
)}}\label{commit_8c_a1da34879d65783717f4d61fcb05c035d}
Creates a new element of commit list.

\begin{DoxyParagraph}{Precondition\-:}
commit != N\-U\-L\-L
\end{DoxyParagraph}
\begin{DoxyParagraph}{Postcondition\-:}
clist\-\_\-elem != N\-U\-L\-L 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Postcondition\-:}
clist\-\_\-elem-\/$>$commit = commit 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Postcondition\-:}
clist\-\_\-elem-\/$>$next = N\-U\-L\-L
\end{DoxyParagraph}

\begin{DoxyParams}{Parameters}
{\em commit} & Commit associated \\
\hline
{\em error} & Error stack \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Created commit list element 
\end{DoxyReturn}
\hypertarget{commit_8c_adab666e9d693a5f655c1f137a610ef64}{\index{commit.\-c@{commit.\-c}!P\-I\-C\-C\-\_\-create\-\_\-commitment@{P\-I\-C\-C\-\_\-create\-\_\-commitment}}
\index{P\-I\-C\-C\-\_\-create\-\_\-commitment@{P\-I\-C\-C\-\_\-create\-\_\-commitment}!commit.c@{commit.\-c}}
\subsubsection[{P\-I\-C\-C\-\_\-create\-\_\-commitment}]{\setlength{\rightskip}{0pt plus 5cm}{\bf P\-I\-C\-C\-\_\-\-Commit}$\ast$ P\-I\-C\-C\-\_\-create\-\_\-commitment (
\begin{DoxyParamCaption}
\item[{{\bf P\-I\-C\-C\-\_\-\-Error} $\ast$}]{error}
\end{DoxyParamCaption}
)}}\label{commit_8c_adab666e9d693a5f655c1f137a610ef64}
Creates and returns a commitment.

\begin{DoxyParagraph}{Postcondition\-:}
commit != null
\end{DoxyParagraph}
\begin{DoxyReturn}{Returns}
Created commitment 
\end{DoxyReturn}
\hypertarget{commit_8c_a671243300bc0b6ff1225f2476f9830ff}{\index{commit.\-c@{commit.\-c}!P\-I\-C\-C\-\_\-\-Eval\-Function\-\_\-inv@{P\-I\-C\-C\-\_\-\-Eval\-Function\-\_\-inv}}
\index{P\-I\-C\-C\-\_\-\-Eval\-Function\-\_\-inv@{P\-I\-C\-C\-\_\-\-Eval\-Function\-\_\-inv}!commit.c@{commit.\-c}}
\subsubsection[{P\-I\-C\-C\-\_\-\-Eval\-Function\-\_\-inv}]{\setlength{\rightskip}{0pt plus 5cm}void P\-I\-C\-C\-\_\-\-Eval\-Function\-\_\-inv (
\begin{DoxyParamCaption}
\item[{{\bf P\-I\-C\-C\-\_\-\-Eval\-Function}}]{eval}
\end{DoxyParamCaption}
)}}\label{commit_8c_a671243300bc0b6ff1225f2476f9830ff}
Checks eval\-Function invariant.

\begin{DoxyParagraph}{Invariant\-:}
eval != N\-U\-L\-L 
\end{DoxyParagraph}
\hypertarget{commit_8c_ad7d0cd39eb2ec4c78c661243d75f49d8}{\index{commit.\-c@{commit.\-c}!P\-I\-C\-C\-\_\-fetch\-\_\-input\-\_\-commitment@{P\-I\-C\-C\-\_\-fetch\-\_\-input\-\_\-commitment}}
\index{P\-I\-C\-C\-\_\-fetch\-\_\-input\-\_\-commitment@{P\-I\-C\-C\-\_\-fetch\-\_\-input\-\_\-commitment}!commit.c@{commit.\-c}}
\subsubsection[{P\-I\-C\-C\-\_\-fetch\-\_\-input\-\_\-commitment}]{\setlength{\rightskip}{0pt plus 5cm}{\bf P\-I\-C\-C\-\_\-\-Commit}$\ast$ P\-I\-C\-C\-\_\-fetch\-\_\-input\-\_\-commitment (
\begin{DoxyParamCaption}
\item[{{\bf P\-I\-C\-C\-\_\-\-Channel} $\ast$}]{ch}
\end{DoxyParamCaption}
)}}\label{commit_8c_ad7d0cd39eb2ec4c78c661243d75f49d8}
Fetches the first element of the input commit\-List from a channel.

\begin{DoxyParagraph}{Precondition\-:}
ch != null
\end{DoxyParagraph}
\begin{DoxyParagraph}{Postcondition\-:}
if(c-\/$>$incommits-\/$>$size $>$ 0 \&\& P\-I\-C\-C\-\_\-is\-\_\-valid\-\_\-commit(P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-fetch(c-\/$>$incommits))) P\-I\-C\-C\-\_\-fetch\-\_\-input\-\_\-commitment(c) = P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-fetch(c-\/$>$incommits) 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Postcondition\-:}
if(c-\/$>$incommits-\/$>$size = 0 $|$$|$ !(P\-I\-C\-C\-\_\-is\-\_\-valid\-\_\-commit(P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-fetch(c-\/$>$incommits)))) P\-I\-C\-C\-\_\-fetch\-\_\-input\-\_\-commitment(c) = null
\end{DoxyParagraph}

\begin{DoxyParams}{Parameters}
{\em ch} & Channel to fetch the commit from \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Fetched commit 
\end{DoxyReturn}
\hypertarget{commit_8c_ad837ebf71eacb624b85970117e4543b2}{\index{commit.\-c@{commit.\-c}!P\-I\-C\-C\-\_\-fetch\-\_\-output\-\_\-commitment@{P\-I\-C\-C\-\_\-fetch\-\_\-output\-\_\-commitment}}
\index{P\-I\-C\-C\-\_\-fetch\-\_\-output\-\_\-commitment@{P\-I\-C\-C\-\_\-fetch\-\_\-output\-\_\-commitment}!commit.c@{commit.\-c}}
\subsubsection[{P\-I\-C\-C\-\_\-fetch\-\_\-output\-\_\-commitment}]{\setlength{\rightskip}{0pt plus 5cm}{\bf P\-I\-C\-C\-\_\-\-Commit}$\ast$ P\-I\-C\-C\-\_\-fetch\-\_\-output\-\_\-commitment (
\begin{DoxyParamCaption}
\item[{{\bf P\-I\-C\-C\-\_\-\-Channel} $\ast$}]{ch}
\end{DoxyParamCaption}
)}}\label{commit_8c_ad837ebf71eacb624b85970117e4543b2}
Fetches he first element of the output commit\-List from a channel

\begin{DoxyParagraph}{Precondition\-:}
ch != null
\end{DoxyParagraph}
\begin{DoxyParagraph}{Postcondition\-:}
if(c-\/$>$outcommits-\/$>$size $>$ 0 \&\& P\-I\-C\-C\-\_\-is\-\_\-valid\-\_\-commit(P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-fetch(c-\/$>$outcommits))) P\-I\-C\-C\-\_\-fetch\-\_\-output\-\_\-commitment(c) = P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-fetch(c-\/$>$outcommits) 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Postcondition\-:}
if(c-\/$>$outcommits-\/$>$size = 0 $|$$|$ !(P\-I\-C\-C\-\_\-is\-\_\-valid\-\_\-commit(P\-I\-C\-C\-\_\-commit\-\_\-list\-\_\-fetch(c-\/$>$outcommits)))) P\-I\-C\-C\-\_\-fetch\-\_\-output\-\_\-commitment(c) = null
\end{DoxyParagraph}

\begin{DoxyParams}{Parameters}
{\em ch} & Channel to fetch the commit from \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Fetched commit 
\end{DoxyReturn}
\hypertarget{commit_8c_a788a62f62f706ba5515d34caff7b807f}{\index{commit.\-c@{commit.\-c}!P\-I\-C\-C\-\_\-is\-\_\-valid\-\_\-commit@{P\-I\-C\-C\-\_\-is\-\_\-valid\-\_\-commit}}
\index{P\-I\-C\-C\-\_\-is\-\_\-valid\-\_\-commit@{P\-I\-C\-C\-\_\-is\-\_\-valid\-\_\-commit}!commit.c@{commit.\-c}}
\subsubsection[{P\-I\-C\-C\-\_\-is\-\_\-valid\-\_\-commit}]{\setlength{\rightskip}{0pt plus 5cm}bool P\-I\-C\-C\-\_\-is\-\_\-valid\-\_\-commit (
\begin{DoxyParamCaption}
\item[{{\bf P\-I\-C\-C\-\_\-\-Commit} $\ast$}]{commit}
\end{DoxyParamCaption}
)}}\label{commit_8c_a788a62f62f706ba5515d34caff7b807f}
Verifies if the given commit is valid.

\begin{DoxyParagraph}{Precondition\-:}
commit != null
\end{DoxyParagraph}
\begin{DoxyParagraph}{Postcondition\-:}
if (commit-\/$>$clock == commit-\/$>$thread-\/$>$clock \&\& commit-\/$>$clockval == commit-\/$>$thread-\/$>$clock-\/$>$val) valid = true else valid = false
\end{DoxyParagraph}

\begin{DoxyParams}{Parameters}
{\em commit} & Commit to validate \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Whether the commit is valid 
\end{DoxyReturn}
\hypertarget{commit_8c_a14735735dfbeef854b502cf6c34e601b}{\index{commit.\-c@{commit.\-c}!P\-I\-C\-C\-\_\-\-Label\-\_\-inv@{P\-I\-C\-C\-\_\-\-Label\-\_\-inv}}
\index{P\-I\-C\-C\-\_\-\-Label\-\_\-inv@{P\-I\-C\-C\-\_\-\-Label\-\_\-inv}!commit.c@{commit.\-c}}
\subsubsection[{P\-I\-C\-C\-\_\-\-Label\-\_\-inv}]{\setlength{\rightskip}{0pt plus 5cm}void P\-I\-C\-C\-\_\-\-Label\-\_\-inv (
\begin{DoxyParamCaption}
\item[{{\bf P\-I\-C\-C\-\_\-\-Label}}]{cont\-\_\-pc}
\end{DoxyParamCaption}
)}}\label{commit_8c_a14735735dfbeef854b502cf6c34e601b}
Checks Label invariant.

\begin{DoxyParagraph}{Invariant\-:}
cont\-\_\-pc $>$ -\/1 
\end{DoxyParagraph}
\hypertarget{commit_8c_a63eba6658845c2a9d2706783f43f957d}{\index{commit.\-c@{commit.\-c}!P\-I\-C\-C\-\_\-\-Refvar\-\_\-inv@{P\-I\-C\-C\-\_\-\-Refvar\-\_\-inv}}
\index{P\-I\-C\-C\-\_\-\-Refvar\-\_\-inv@{P\-I\-C\-C\-\_\-\-Refvar\-\_\-inv}!commit.c@{commit.\-c}}
\subsubsection[{P\-I\-C\-C\-\_\-\-Refvar\-\_\-inv}]{\setlength{\rightskip}{0pt plus 5cm}void P\-I\-C\-C\-\_\-\-Refvar\-\_\-inv (
\begin{DoxyParamCaption}
\item[{int}]{refvar}
\end{DoxyParamCaption}
)}}\label{commit_8c_a63eba6658845c2a9d2706783f43f957d}
Checks refvar invariant.

\begin{DoxyParagraph}{Invariant\-:}
refvar $>$ 0 
\end{DoxyParagraph}
\hypertarget{commit_8c_a2a8118d48f638115c8bde91c5c2e3570}{\index{commit.\-c@{commit.\-c}!P\-I\-C\-C\-\_\-register\-\_\-input\-\_\-commitment@{P\-I\-C\-C\-\_\-register\-\_\-input\-\_\-commitment}}
\index{P\-I\-C\-C\-\_\-register\-\_\-input\-\_\-commitment@{P\-I\-C\-C\-\_\-register\-\_\-input\-\_\-commitment}!commit.c@{commit.\-c}}
\subsubsection[{P\-I\-C\-C\-\_\-register\-\_\-input\-\_\-commitment}]{\setlength{\rightskip}{0pt plus 5cm}void P\-I\-C\-C\-\_\-register\-\_\-input\-\_\-commitment (
\begin{DoxyParamCaption}
\item[{{\bf P\-I\-C\-C\-\_\-\-Pi\-Thread} $\ast$}]{pt, }
\item[{{\bf P\-I\-C\-C\-\_\-\-Channel} $\ast$}]{ch, }
\item[{int}]{refvar, }
\item[{{\bf P\-I\-C\-C\-\_\-\-Label}}]{cont\-\_\-pc}
\end{DoxyParamCaption}
)}}\label{commit_8c_a2a8118d48f638115c8bde91c5c2e3570}
Registers an input commit with given Pi\-Thread and channel.

\begin{DoxyParagraph}{Precondition\-:}
pt != null \&\& ch != null \&\& cont\-\_\-pc $>$= 0
\end{DoxyParagraph}
\begin{DoxyParagraph}{Postcondition\-:}
pt-\/$>$commits-\/$>$size(P\-I\-C\-C\-\_\-register\-\_\-input\-\_\-commitment(pt)) = pt-\/$>$commits-\/$>$size(pt) + 1 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Postcondition\-:}
pt-\/$>$commits-\/$>$tail = commit 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Postcondition\-:}
commit-\/$>$type = P\-I\-C\-C\-\_\-\-I\-N\-\_\-\-C\-O\-M\-M\-I\-T 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Postcondition\-:}
commit-\/$>$content.\-in = in 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Postcondition\-:}
commit-\/$>$thread = pt 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Postcondition\-:}
commit-\/$>$channel = ch 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Postcondition\-:}
commit-\/$>$cont\-\_\-pc = cont\-\_\-pc 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Postcondition\-:}
in-\/$>$refvar = refvar
\end{DoxyParagraph}

\begin{DoxyParams}{Parameters}
{\em pt} & Pi\-Thread associated with the commit \\
\hline
{\em ch} & Channel used to create the commit \\
\hline
{\em refvar} & Index of the var used to create the input commit \\
\hline
{\em cont\-\_\-pc} & Program counter \\
\hline
\end{DoxyParams}
\hypertarget{commit_8c_a147d57b52b5ac5ec52f1488a4df5684c}{\index{commit.\-c@{commit.\-c}!P\-I\-C\-C\-\_\-register\-\_\-output\-\_\-commitment@{P\-I\-C\-C\-\_\-register\-\_\-output\-\_\-commitment}}
\index{P\-I\-C\-C\-\_\-register\-\_\-output\-\_\-commitment@{P\-I\-C\-C\-\_\-register\-\_\-output\-\_\-commitment}!commit.c@{commit.\-c}}
\subsubsection[{P\-I\-C\-C\-\_\-register\-\_\-output\-\_\-commitment}]{\setlength{\rightskip}{0pt plus 5cm}void P\-I\-C\-C\-\_\-register\-\_\-output\-\_\-commitment (
\begin{DoxyParamCaption}
\item[{{\bf P\-I\-C\-C\-\_\-\-Pi\-Thread} $\ast$}]{pt, }
\item[{{\bf P\-I\-C\-C\-\_\-\-Channel} $\ast$}]{ch, }
\item[{{\bf P\-I\-C\-C\-\_\-\-Eval\-Function} $\ast$}]{eval, }
\item[{{\bf P\-I\-C\-C\-\_\-\-Label}}]{cont\-\_\-pc}
\end{DoxyParamCaption}
)}}\label{commit_8c_a147d57b52b5ac5ec52f1488a4df5684c}
Registers an output commit with given Pi\-Thread and channel.

\begin{DoxyParagraph}{Precondition\-:}
pt != null \&\& ch != null \&\& eval != null \&\& cont\-\_\-pc $>$= 0
\end{DoxyParagraph}
\begin{DoxyParagraph}{Postcondition\-:}
pt-\/$>$commits-\/$>$size = pt-\/$>$commits-\/$>$size\-\_\-at\-\_\-pre + 1 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Postcondition\-:}
pt-\/$>$commits-\/$>$tail = commit 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Postcondition\-:}
commit-\/$>$type = P\-I\-C\-C\-\_\-\-O\-U\-T\-\_\-\-C\-O\-M\-M\-I\-T 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Postcondition\-:}
commit-\/$>$content.\-out = out 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Postcondition\-:}
commit-\/$>$thread = pt 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Postcondition\-:}
commit-\/$>$channel = ch 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Postcondition\-:}
commit-\/$>$cont\-\_\-pc = cont\-\_\-pc 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Postcondition\-:}
out-\/$>$eval\-\_\-func = eval
\end{DoxyParagraph}

\begin{DoxyParams}{Parameters}
{\em pt} & Pi\-Thread associated with the commit \\
\hline
{\em ch} & Channel used to create the commit \\
\hline
{\em eval} & Evaluation function \\
\hline
{\em cont\-\_\-pc} & Programm counter \\
\hline
\end{DoxyParams}
